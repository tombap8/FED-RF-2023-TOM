<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS4-1. 배열변수와 객체</title>
        <style>
            /* 동영상 주변 암전효과 박스 */
            body::before {
                content: "";
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background-color: rgba(0, 0, 0, 0.592);
            }
            /* body에 클래스 on 설정시 보임 */
            body.on::before {
                display: block;
            }
            h1 {
                text-align: center;
            }

            /* 정보출력박스 */
            .cont {
                width: 1000px;
                height: 80px;
                border: 2px solid #000;
                text-align: center;
                white-space: nowrap;
                line-height: 84px;
                margin: 5px auto;
                font-size: 24px;
            }
            /* 초이스 버튼 클래스 on  */
            .choice button.on{
                border: 4px solid red;
                border-radius: 10px;
                background-color: navy;
                color: #fff;
                font-weight: bold;
                transform: scale(1.2);
            }
        </style>
        <!-- 객체js 불러오기 -->
        <script src="./js/JS4-1.object.js"></script>
        <!-- JS코드구역 -->
        <script>
            /// 로딩구역  //////////////
            window.addEventListener("DOMContentLoaded", loadFn);
            // DOMContentLoaded 이벤트 : html DOM 로딩후발생

            /******************************************** 
                함수명 : loadFn
                기능 : 로딩후 실행함수
          ********************************************/
            function loadFn() {
                // 1. 호출확인
                console.log("로딩완료!");

                // 2. 출력대상 : .cont
                let target = document.querySelectorAll(".cont");

                console.log("타겟:", target);

                /********************************************** 
                [ 배열(Array) 변수란? ]

                - 여러개의 데이터를 묶음으로 변수하나에 저장함
                - 장점: 데이터를 취급하고 다루는데 편의성 제공
                - 각 데이터를 하나의 이름으로 구분하여 호출할
                수 있는 메모리공간이다!
                (예: 계란한판, 아파트 등)

                [ 배열의 선언의 2가지 방식 ]

                1. new 키워드 선언방식
                - new Array()
                객체를 실제로 메모리안에 생성하는 방법을 제공
                이를 인스턴스(instance)라고 함!

                2. 리터럴 선언방식 (배열리터럴)
                - 변수 = []


                - 객체란 속성과 메서드를 가지고 있는 프로그램 단위체
                - 객체는 독립된 특성을 가지고 있어야함!

                예컨데 자동차, 볼펜, 물통, 가방 등
                독립된 별도의 기능이 있어야하고 명사적특징과
                동사적 특징이 모두 있어야 객체다!

            **********************************************/

                // 3. 내용 출력하기 ///////

                // 3-1. new 키워드와 함께 배열 선언,할당하기
                const arr1 = new Array("1993년 10월 12일", "183cm", "65kg", "너도 인간이니?,치인트", 4567, "서강준");

                // new키워드로 선언과 할당을 동시에 할 수 있다
                // 소괄호안에 콤마로 값을 구분하여 사용함

                // 배열변수에 할당한 데이터 불러오기
                // 호출방법 : 배열변수명[순번] -> 순번은 0부터

                console.log("arr1:", arr1, typeof arr1);

                // 출력대상 : target[0]
                target[0].innerHTML =
                    "이름 : " + arr1[5] + " / 키 : " + arr1[1] + " / 몸무게 : " + arr1[2] + " / 대표작 : " + arr1[3];

                // 3-2. 배열리터럴 방식의 선언과 할당
                // 배열변수명 = [값1,값2,값3,...]
                // new 키워드 없이 바로 쓸 수 있는 객체를
                // 정적객체(Static Object)라고 함!

                const arr2 = [
                    "삼일절",
                    "태극기",
                    1919,
                    function () {
                        alert("대한독립만세!!!");
                        console.log(this);
                        // 배경이미지 넣기!
                        // this는 호출한 요소 자신!
                        this.style.background = `url(https://blog.kakaocdn.net/dn/H4k8p/btqUUqx7TLT/VAMfjsV79wqyKIfOGXn5P0/img.jpg) repeat-x 0/auto 100%`;
                        this.style.transition = "2s ease-in-out";
                        this.style.transform = "scale(1.5) rotate(720deg)";
                    },
                ]; //// arr2 ////

                // function(){} 익명함수 - 이름없고 코드만 저장
                // -> 배열값으로 문자,숫자,배열,객체,함수 등 사용가능!!

                // 배열확인
                console.log("arr2배열:", arr2);

                // 출력대상 : target[1]
                target[1].innerHTML = `
                    ${arr2[0]}은 ${arr2[2]}년에 일제에 항거하여 ${arr2[1]}를 들고 일어난 민중봉기를 기념하는 날이다!
                `;

                // 툴팁 띄우기
                target[1].title = "만세를 하시려면 클릭하세요!";

                // 손가락모양 커서
                target[1].style.cursor = "pointer";

                // 배열의 함수를 클릭이벤트에 연결하기
                target[1].onclick = arr2[3];

                // 3-3. 배열을 미리 생성하여 각각 할당하기
                // 배열변수명 = [] -> 배열리터럴!
                // 배열변수명.length = 숫자 -> 숫자만큼 배열이 생성
                // 배열변수명.length 는 배열개수를 읽기/쓰기 모두 가능함!

                const arr3 = [];
                // const 상수로 리터럴 선언,할당 후
                // 배열값을 변경은 자유롭다~!!!
                // 배열형을 변경못함!! 그래서 상수임!

                // 배열개수 미리셋팅하기
                arr3.length = 8;
                // 배열개수를 셋팅했어도 더 추가가 얼마든지 가능하다!

                console.log("arr3배열변수:", arr3);

                // 각 배열주소에 값을 할당함!
                arr3[0] = "산";
                arr3[1] = "할아버지";
                arr3[2] = "구름모자";
                arr3[3] = "썼네~!";
                arr3[4] = "나비같이";
                arr3[5] = "훨훨";
                arr3[6] = "훠얼훨";
                arr3[7] = "날아서~!";

                // 배열값 전체값 찍기 : valueOf()
                console.log("arr3배열전체값:", arr3.valueOf());
                // 참고로 변수만 찍어도 브라우저가 valueOf()를 찍어줌!

                // 변수 전체찍기에서 사이에 구분자 변경하기
                // join(구분자) -> 구분자를 넣고 문자값생성
                console.log("arr3배열 구분자로 문자찍기:", arr3.join("^"));
                // DB에 데이터를 하나로 만들어 넣을때
                // 많이 사용되기도 함!

                // 배열값 뒤에 동적으로 배열값 추가하기!
                // push(값) -> 배열맨뒤에 값을 추가하는 메서드
                arr3.push("김창완작사");

                // 배열값 사이에 별(★)을 넣어서 출력하기!
                // 출력대상 : target[2]
                target[2].innerHTML = arr3.join("★");

                // -> 배열메서드는 중요하므로 별로롤 훈련함~!!^^

                /******************************************** 
                        [ 객체(Object) 란? ]

                - 일반적으로 JS에서 객체란 속성과 메서드를
                가지는 프로그램 단위체
                - 속성은 명사적 특징, 메서드는 동사적 특징
                객체예)
                https://www.w3schools.com/js/js_objects.asp
                - 자동차의 명사적특징: 핸들, 백미러, 트렁크, 바퀴 등
                - 자동차의 동사적특징: 운전하다, 멈추다, 주차하다 등

                (참고: 브라우저에 이미 만들어져 있는 객체들)
                -> 내장객체라고함!
                -> 브라우저 내장객체-> 봄(BOM:Browser Object Model)
                -> https://www.w3schools.com/js/js_window.asp

                window : 윈도우(브라우저화면) 표시 관련객체
                document : 문서구조에 관련된 객체
                Array : 배열객체
                Object : 객체를 만들기 위한 객체
                Date : 날짜객체
                Math : 수학객체
                ___________________________________

                ->>> 내장객체 중 객체를 만들기위한 객체인 Object를
                사용하여 객체를 만들어보자!

                [ 객체의 선언의 2가지 방식 ]
                1. new 키워드 선언방식
                - new Object()

                2. 리터럴 선언방식(객체리터럴)
                - 변수 = {}

                [ 객체의 할당 ]
                - 중괄호{}를 사용하여 할당코딩을 함
                - {속성명:값,속성명:값,...}
                - 여러값을 셋팅할때 콤마로 구분한다
                - 배열과 비교해서 이해하기 쉽고 호출하기 쉽다!
                - 객체 스타일로 데이터 구조를 만들고
                이런 파일로 DB와 데이터 통신을 한다!
                이 파일의 이름은? 제이슨(JSON:확장자.json)

                [ 객체의 호출 ]
                - 객체명[속성명]
                또는
                - 객체명.속성명

            ********************************************/

                // 객체를 선언하여 생성해 보자!
                // new Object() 를 사용하여 생성
                // 배열과 마찬가지로 객체는 형식이
                // 변경되지 않도록 let보다는 const를 많이씀!

                const SSG = new Object({
                    "너의 이름은?": "손석구",
                    생일: "1983년 2월 7일",
                    키: "178cm",
                    몸무게: "80kg",
                    혈액형: "C형",
                    성별: "남성",
                    대표작: "나의 해방일지,범죄도시2",
                    소속사: "셋별당엔터",
                    비밀번호: 7777,
                    팬레터: function () {
                        // 변경대상.style
                        let mycss = target[3].style;

                        // 1. 메시지 띄우기
                        alert("상남자 오빠! 지금뭐해?");
                        // 2. 배경이미지 넣기
                        mycss.background =
                            "url(https://file.mk.co.kr/meet/neds/2022/05/image_readtop_2022_456627_16533579475052374.jpeg) repeat-x top/auto 100%";
                        // 3. 글자색
                        mycss.color = "#fff";
                        // 4. 글자그림자
                        mycss.textShadow = "0 0 5px #000";
                        // 5. 글자내용변경
                        target[3].innerText = "손석구 최고 멋쨍이! 승승장구! 화이팅!!!";
                        // 6. 줄간격
                        mycss.lineHeight = "84px";
                        // 7. 박스크게하기
                        mycss.transform = "scale(1.2)";
                        // 8. 트랜지션
                        mycss.transition = "1s ease-out 1s";
                    }, ///// 팬레터 함수 ///////
                });

                // 객체확인
                console.log("석구객체:", SSG);

                // 객체 출력하기
                // 출력대상: target[3]
                target[3].innerHTML = `
                당신이 좋아하는 남자배우는? 
                ${SSG["너의 이름은?"]}
                 / 몸무게를 아세요? 
                 ${SSG.몸무게} <br>
                 생년월일은? 
                 ${SSG.생일}
                 / 대표작은? ${SSG["대표작"]}
            `;

                // 2줄이니까 줄간격 조정
                target[3].style.lineHeight = "40px";

                // 객체에 셋팅된 함수를 보통 '메서드'라고 부른다
                // 이 메서드를 호출해 보자!
                target[3].onclick = SSG["팬레터"];

                // title속성넣기
                target[3].title = `여기를 클릭하여 ${SSG["너의 이름은?"]}팬레터를 확인하세요!`;

                // 손가락 표시
                target[3].style.cursor = "pointer";

                /*************************************** 
                [ new 키워드 없이 바로 객체 생성하기 ] 
                -> 객체 리터럴 (추천방식!)

                - 방법: 변수 선언 후 이퀄 뒤에 바로 중괄호 사용!
                예) let obj = {속성명:값,속성명:값,...};

                [ 객체의 속성 셋팅시 
                문자형 또는 변수형 사용하기 ]
                
                1. 문자형 속성 - 따옴표로 싸는 방법

                예) let obj = {"나는나":"호호호","너는너":"하하하"}
                -> 문자형 속성의 객체 호출시
                객체명[문자형속성명]
                예) obj["나는나"]

                2. 변수형 속성 - 따옴표로 안싸는 방법
                예) let obj = {name:"김수현",tall:"186cm"};
                -> 변수형 속성의 객체 호출시
                객체명.속성명
                예) obj.name

                또는

                객체명["속성명"]
                예) obj["name"]
                -> 반드시 변수형 속성명을 따옴표로 싸서
                문자형으로 표시해야함!
                obj[name] -> 에러남!

                -> 만약 문자형으로 설정된 경우에도
                변수형으로 사용될 수 있는 문자면 변수형호출가능!
                예) var obj = {"하하하":"나나나"}
                    obj["하하하"] 또는 obj.하하하

            ***************************************/

                // 객체 생성하기 - 객체리터럴!!! /////
                const GU = {
                    name: "공유",
                    tall: "184cm",
                    weight: "74kg",
                    com: "매니지먼트숲",
                    work: "도깨비,부산행",
                    msgFn: function (txt) {
                        // txt - 팬레터내용
                        // 1. 메시지 띄우기
                        alert("팬레터:" + txt);
                        // alert에 콤마사용불가 +사용

                        // 변경대상.style
                        let mycss = target[4].style;

                        // 2. 배경이미지 넣기
                        mycss.background =
                            "url(https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Gong_Yoo_%28Sep_2016%29.png/250px-Gong_Yoo_%28Sep_2016%29.png) repeat-x top/auto 100%";
                        // 3. 글자색
                        mycss.color = "#fff";
                        // 4. 글자그림자
                        mycss.textShadow = "0 0 5px #000";
                        // 5. 줄간격
                        mycss.lineHeight = "30px";
                        // 6. 높이값변경
                        mycss.height = "100px";
                        // 7. 상단패딩변경
                        mycss.paddingTop = "100px";
                        // 8. 트랜지션
                        mycss.transition = "2s ease-in-out .5s";
                    }, ////////// msgFn함수 //////
                }; //////////// GU객체 ////////

                // 객체확인
                console.log("GU객체:", GU);

                // 출력대상 : target[4]

                // 줄간격 조정
                target[4].style.lineHeight = "24px";

                // 내용출력
                target[4].innerHTML = `
                저는 ${GU.name}입니다.
                몸무게는 비밀인데요 그래도 말씀드리자면
                ${GU.weight}입니다. ㅎㅎㅎ<br>
                제 대표작은 ${GU.work}입니다.<br>
                제 소속사는 모르시는 분들이 많은데
                ${GU.com}입니다. 빠이빠이~!
            `;

                // title속성넣기
                target[4].title = `여기를 클릭하여 ${GU.name}팬레터를 확인하세요!`;

                // 손가락 표시
                target[4].style.cursor = "pointer";

                // 공유박스 클릭시 GU객체 메서드 호출하기
                target[4].onclick = function () {
                    // 실행코드 구역에서 객체 메서드를 호출
                    // 전달값도 여기서 보내준다!
                    GU.msgFn("\n공유오빠, 오징어게임 싸다구 멋쪘어요! \n차기작도 기대해요!화이팅!!!");
                    // \n은 alert창에서 줄바꿈해줌!
                }; ///////// click이벤트 함수 ///////

            /************************************************ 
                [ 미션 :  내가 만든 객체 활용하기 ]
                1. 주제 : 영화정보
                2. 조건 : 객체의 변수명을 자신만의 이름으로 작성
                    -> 단, 속성명을 동일하게함!
                3. 객체를 쌤과 모두에게 공유하기!(톡업!!)
            ************************************************/

                // 자신만의 오브젝트! -> 변경가능하게 let으로!!!
                let tom_obj = {};
                // 오브젝트 형만 만들고 객체내용은 아래에서!
                // 1. 영화제목
                tom_obj.title = "럭키";

                // 2. 감독
                tom_obj.director = "이계벽";

                // 3. 배우
                tom_obj.actor = "유해진,조윤희";

                // 4. 장르
                tom_obj.genre = "코미디";

                // 5. 관람가
                tom_obj.ratings = "15세";

                // 6. 예고편
                tom_obj.trailer = function () {
                    console.log("예고편:", "G2zyFe4Z5w0");
                    // 플레이어함수 호출!
                    playMovie("G2zyFe4Z5w0");
                }; ///////// trailer 함수 ///////

                // 객체확인
                console.log("나의객체:", tom_obj);

                // 줄간격 조정
                target[5].style.lineHeight = "34px";
                // 손가락 모양
                target[5].style.cursor = "pointer";
                // 글자크기
                target[5].style.fontSize = "14px";

                // 화면에 정보를 보여주는 함수
                const showMovieInfo = function () {
                    // 함수호출확인
                    console.log("영화정보!!!");

                    // 1. 대상선정 : target[5]
                    // 2. 내용넣기
                    target[5].innerHTML = `
                    ♣ 영화명 : ${tom_obj.title}
                    ♣ 감독 : ${tom_obj.director} <br>
                    ♣ 배우 : ${tom_obj.actor}
                    ♣ 장르 : ${tom_obj.genre}
                    ♣ 등급 : ${tom_obj.ratings}
                `;

                    // 툴팁 보이기
                    target[5].title = `클릭하시면 ${tom_obj.title} 예고편을 보실 수 있습니다!`;

                    // 예고편 메서드 호출!
                    target[5].onclick = tom_obj.trailer;
                }; ///////// showMovieInfo 함수 ///////

                // 최초호출!
                showMovieInfo();

                // 초이스버튼 링크걸기

                // 대상선정 : .choice button
                let choice = document
                .querySelectorAll(".choice button");
                console.log("초이스:", choice);

                // 초이스 개수
                let choice_cnt = choice.length;

                // for문으로 버튼들을 click이벤트 설정함!
                // for(시;한;증){코드}
                for (let i = 0; i < choice_cnt; i++) {
                    choice[i].onclick = function () {
                        // this -> 클릭된 버튼자신!
                        // 1. 버튼텍스트
                        let btxt = this.innerText;
                        console.log("난누구?", btxt);

                        // 할당전 이전 영화객체
                        console.log("이전객체:", tom_obj);

                        // 2. 버튼텍스트에 해당하는 객체를
                        // 기존 객체에 덮어쓰기
                        switch (btxt) {
                            case "조은초이스":
                                tom_obj = zoe_obj;
                                break;
                            case "동엽초이스":
                                tom_obj = nick_obj;
                                break;
                            case "용진초이스":
                                tom_obj = shin_Obj;
                                break;
                            case "수진초이스":
                                tom_obj = csj_obj;
                                break;
                            case "혜경초이스":
                                tom_obj = hg_obj;
                                break;
                            case "서진초이스":
                                tom_obj = seo_obj;
                                break;
                            case "정현초이스":
                                tom_obj = jh_obj;
                                break;
                            case "민정초이스":
                                tom_obj = kmj_obj;
                                break;
                            case "경은초이스":
                                tom_obj = lke_obj;
                                break;
                            case "주현초이스":
                                tom_obj = an_obj;
                                break;
                            case "윤민초이스":
                                tom_obj = kimyoonmin_obj;
                                break;
                            case "지민초이스":
                                tom_obj = cake_obj;
                                break;
                            case "승준초이스":
                                tom_obj = Moon_Obj;
                                break;
                            case "진구초이스":
                                tom_obj = tonyFilm;
                                break;
                            case "승환초이스":
                                tom_obj = yu_obj;
                                break;
                            case "내우초이스":
                                tom_obj = naewoo_Obj;
                                break;
                            case "탐쌤초이스":
                                tom_obj = tom_sam;
                                break;
                        } //////// switch case ////////

                        // 할당후 영화객체
                        console.log("이후객체:", tom_obj);

                        // 3. 객체 셋팅함수 호출!
                        showMovieInfo();

                        // 4. 모든 버튼 클래스 on 빼기
                        choice.forEach(function(ele){ // ele-자신
                            // forEach(function(자신,순번,전체){})
                            // console.log('forEach:',a,b,c);
                            ele.classList.remove('on');
                        }); /////// forEach //////////

                        // 5. 클릭된 버튼에 클래스 on주기
                        this.classList.add('on');

                    }; /////////// click 이벤트함수 /////
                } ////////////// for //////////////


                // 초이스 줄간격 조정
                target[6].style.lineHeight = '20px';


            } //////////////// loadFn 함수 //////////////
            /////////////////////////////////////////////

            /*************************************** 
                함수명 : playMovie
                기능: 영화예고편 화면 띄우기
            ***************************************/
            function playMovie(mcode) {
                // mcode - 영화아이디
                // 함수호출 및 전달값 확인
                console.log("난진짜야~!", mcode);

                // 1. 동영상 박스 대상선정 : #mvbox
                let mvbox = document.querySelector("#mvbox");

                // 2. 영화박스에 아이프레임 넣기
                mvbox.innerHTML = `
                    <div id="mv">
                        <!--유튜브 아이프레임-->
                        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/${mcode}?autoplay=1" allow="autoplay"></iframe>
                        <!--닫기버튼-->
                        <button class="cbtn">×</button>
                    </div>
                `;

                // 3. 삽입된 동영상 박스 CSS설정하기
                let mv = document.querySelector("#mv");
                let css = mv.style;

                css.position = "fixed";
                css.top = "50%";
                css.left = "50%";
                css.transform = "translate(-50%,-50%)";
                css.width = "700px";
                css.height = "450px";
                css.backgroundColor = "#000";

                // 4. 닫기버튼 CSS 셋팅하기
                let cbtn = document.querySelector(".cbtn");
                // console.log(cbtn);
                // style.cssText는
                // css를 직접 style속성값으로 넣음!
                cbtn.style.cssText = `
                    position : absolute;
                    top : 0;
                    right : -70px;
                    width : 50px;
                    height : 50px;
                    border : none;
                    color : #fff;
                    background-color : blue;
                    font-size : 40px;
                    font-weight : bold;
                    border-radius: 50%;
                    cursor : pointer;
                    line-height : 50px;
                `;

                // 아이프레임 보더 없앰
                mv.querySelector("iframe").style.border = "none";

                // 5. 닫기버튼 클릭시 #mv 제거하기
                cbtn.onclick = function () {
                    mv.remove();
                    // remove() 는 DOM 메서드로
                    // 선택요소를 제거함!

                    // body에 클래스 on 제거하기
                    document.body.classList.remove("on");
                }; /////// click이벤트 함수 ///////

                // 6. body요소에 클래스 on 주기
                // 동영상 배경 암전효과
                document.body.classList.add("on");
            } //////////////// playMovie 함수 ////////////
            //////////////////////////////////////////////


            /********************************************** 
            ※ 정리 :
            ________________________________

            배열값 설정
            const 변수명 = [값1,값2,...];
            또는
            변수명[순번] = 값
            _________________________________

            배열값 호출
            변수명[순번] -> 순번은 0부터
            _________________________________

            객체값 설정
            const 변수명 = {속성:값,속성:값,...}
            또는
            변수명["속성명"] = 값
            또는
            변수명.속성명 = 값
            ___________________________________

            객체값 호출

            변수명["속성명"]
            -> 속성명을 따옴표로 싼 문자형임
            (만약 변수형 속성명이어도 이렇게 부를땐
            따옴표로 반드시 싸야한다!)

            또는

            변수명.속성명
            -> 속성명이 반드시 변수형 이어야함!
            -> 속성명이 문자형이어도 변수형에 적합하면 이와같이 사용가능

            ____________________________________

            참고) 내장객체를 new키워드 없이 바로 할당하는
            방식을 리터럴방식이라고 부른다! 이 방식 추천함!
            예) let str = ""
                let arr = []
                let obj = {}

            비교) let str = new String();
                  let arr = new Array();
                  let obj = new Object();

        **********************************************/


        </script>
    </head>

    <body>
        <h1>JS4-1. 배열변수와 객체</h1>

        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont choice">
            <!-- 영화초이스 버튼박스 -->
            <button>조은초이스</button>
            <button>동엽초이스</button>
            <button>용진초이스</button>
            <button>수진초이스</button>
            <button>혜경초이스</button>
            <button>서진초이스</button><br />
            <button>정현초이스</button>
            <button>민정초이스</button>
            <button>경은초이스</button>
            <button>주현초이스</button>
            <button>윤민초이스</button>
            <button>지민초이스</button><br />
            <button>승준초이스</button>
            <button>진구초이스</button>
            <button>승환초이스</button>
            <button>내우초이스</button>
            <button>탐쌤초이스</button>
        </div>

        <!-- 영화예고편 동영상용 박스 -->
        <aside id="mvbox"></aside>
    </body>
</html>
