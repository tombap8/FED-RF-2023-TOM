<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS4-1. 배열변수와 객체</title>
        <style>
            body::before {
                content: "";
                display: none;
                position: fixed;
                top: 0;
                left: 0;
                width: 100vw;
                height: 100vh;
                background-color: rgba(0, 0, 0, 0.592);
            }
            body.on::before {
                display: block;
            }
            h1 {
                text-align: center;
            }

            /* 정보출력박스 */
            .cont {
                width: 1000px;
                height: 80px;
                border: 2px solid #000;
                text-align: center;
                white-space: nowrap;
                line-height: 84px;
                margin: 5px auto;
                font-size: 24px;
            }
        </style>
        <!-- JS코드구역 -->
        <script>
            /// 로딩구역  //////////////
            window.addEventListener("DOMContentLoaded", loadFn);
            // DOMContentLoaded 이벤트 : html DOM 로딩후발생

            /******************************************** 
                함수명 : loadFn
                기능 : 로딩후 실행함수
          ********************************************/
            function loadFn() {
                // 1. 호출확인
                console.log("로딩완료!");

                // 2. 출력대상 : .cont
                let target = 
                document.querySelectorAll(".cont");

                console.log("타겟:", target);

                /********************************************** 
                [ 배열(Array) 변수란? ]

                - 여러개의 데이터를 묶음으로 변수하나에 저장함
                - 장점: 데이터를 취급하고 다루는데 편의성 제공
                - 각 데이터를 하나의 이름으로 구분하여 호출할
                수 있는 메모리공간이다!
                (예: 계란한판, 아파트 등)

                [ 배열의 선언의 2가지 방식 ]

                1. new 키워드 선언방식
                - new Array()
                객체를 실제로 메모리안에 생성하는 방법을 제공
                이를 인스턴스(instance)라고 함!

                2. 리터럴 선언방식 (배열리터럴)
                - 변수 = []


                - 객체란 속성과 메서드를 가지고 있는 프로그램 단위체
                - 객체는 독립된 특성을 가지고 있어야함!

                예컨데 자동차, 볼펜, 물통, 가방 등
                독립된 별도의 기능이 있어야하고 명사적특징과
                동사적 특징이 모두 있어야 객체다!

            **********************************************/

                // 3. 내용 출력하기 ///////

                // 3-1. new 키워드와 함께 배열 선언,할당하기
                const arr1 = new Array("1993년 10월 12일", "183cm", "65kg", "너도 인간이니?,치인트", 4567, "서강준");

                // new키워드로 선언과 할당을 동시에 할 수 있다
                // 소괄호안에 콤마로 값을 구분하여 사용함

                // 배열변수에 할당한 데이터 불러오기
                // 호출방법 : 배열변수명[순번] -> 순번은 0부터

                console.log("arr1:", arr1, typeof arr1);

                // 출력대상 : target[0]
                target[0].innerHTML =
                    "이름 : " + arr1[5] + " / 키 : " + arr1[1] + " / 몸무게 : " + arr1[2] + " / 대표작 : " + arr1[3];

                // 3-2. 배열리터럴 방식의 선언과 할당
                // 배열변수명 = [값1,값2,값3,...]
                // new 키워드 없이 바로 쓸 수 있는 객체를
                // 정적객체(Static Object)라고 함!

                const arr2 = [
                    '삼일절',
                    '태극기',
                    1919,
                    function(){
                        alert('대한독립만세!!!');
                        console.log(this);
                        // 배경이미지 넣기!
                        // this는 호출한 요소 자신!
                        this.style.background = 
                        `url(https://blog.kakaocdn.net/dn/H4k8p/btqUUqx7TLT/VAMfjsV79wqyKIfOGXn5P0/img.jpg) repeat-x 0/auto 100%`;
                        this.style.transition = 
                        '2s ease-in-out';
                        this.style.transform = 
                        'scale(1.5) rotate(720deg)';
                    }
                ]; //// arr2 ////

                // function(){} 익명함수 - 이름없고 코드만 저장
                // -> 배열값으로 문자,숫자,배열,객체,함수 등 사용가능!!

                // 배열확인
                console.log('arr2배열:',arr2);
                
                // 출력대상 : target[1]
                target[1].innerHTML = `
                    ${arr2[0]}은 ${arr2[2]}년에 일제에 항거하여 ${arr2[1]}를 들고 일어난 민중봉기를 기념하는 날이다!
                `;

                // 툴팁 띄우기
                target[1].title = 
                '만세를 하시려면 클릭하세요!';

                // 손가락모양 커서
                target[1].style.cursor = 'pointer';

                // 배열의 함수를 클릭이벤트에 연결하기
                target[1].onclick = arr2[3];


                // 3-3. 배열을 미리 생성하여 각각 할당하기
                // 배열변수명 = [] -> 배열리터럴!
                // 배열변수명.length = 숫자 -> 숫자만큼 배열이 생성
                // 배열변수명.length 는 배열개수를 읽기/쓰기 모두 가능함!

                const arr3 = [];
                // const 상수로 리터럴 선언,할당 후
                // 배열값을 변경은 자유롭다~!!!
                // 배열형을 변경못함!! 그래서 상수임!
                
                // 배열개수 미리셋팅하기
                arr3.length = 8;
                // 배열개수를 셋팅했어도 더 추가가 얼마든지 가능하다!

                console.log('arr3배열변수:',arr3);

                // 각 배열주소에 값을 할당함!
                arr3[0] = '산';
                arr3[1] = '할아버지';
                arr3[2] = '구름모자';
                arr3[3] = '썼네~!';
                arr3[4] = '나비같이';
                arr3[5] = '훨훨';
                arr3[6] = '훠얼훨';
                arr3[7] = '날아서~!';

                // 배열값 전체값 찍기 : valueOf()
                console.log('arr3배열전체값:',
                arr3.valueOf());
                // 참고로 변수만 찍어도 브라우저가 valueOf()를 찍어줌!

                // 변수 전체찍기에서 사이에 구분자 변경하기
                // join(구분자) -> 구분자를 넣고 문자값생성
                console.log('arr3배열 구분자로 문자찍기:',
                arr3.join('^'));
                // DB에 데이터를 하나로 만들어 넣을때
                // 많이 사용되기도 함!

                // 배열값 뒤에 동적으로 배열값 추가하기!
                // push(값) -> 배열맨뒤에 값을 추가하는 메서드
                arr3.push('김창완작사');


                // 배열값 사이에 별(★)을 넣어서 출력하기!
                // 출력대상 : target[2]
                target[2].innerHTML = arr3.join('★');

                // -> 배열메서드는 중요하므로 별로롤 훈련함~!!^^

                
            } //////////////// loadFn 함수 //////////////
            /////////////////////////////////////////////
        </script>
    </head>

    <body>
        <h1>JS4-1. 배열변수와 객체</h1>

        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
        <div class="cont"></div>
    </body>
</html>
