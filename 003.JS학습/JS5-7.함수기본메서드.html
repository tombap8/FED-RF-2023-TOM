<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JS5-7. í•¨ìˆ˜ ê¸°ë³¸ ë©”ì„œë“œ : call() / apply() / bind()</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Jua&display=swap");
      body {
        background-image: linear-gradient(
          45deg,
          lightcoral,
          lightgreen,
          pink,
          lightblue
        );
        background-attachment: fixed;
        text-align: center;

        font-family: "Jua", sans-serif;
        padding-bottom: 100px;
      }
      h1 {
        font-weight: normal;
      }
      .mainTit{
        font-size: max(40px,3vw);
      }
      .ex {
        color: aqua;
        -webkit-text-stroke: 0.5px #222;
        text-shadow: 2px 2px 2px #000000c2;
      }
      .bindWrap{
        display: flex;
        justify-content: center;
        gap: 0 100px;
      }
    </style>
    <script>
      function í˜ë‚´(ì½œì½œ) {
        return this.í˜¸í˜¸ + " ê·¸ë¦¬ê³  " + this.í•˜í•˜ + " AND " + ì½œì½œ;
      }

      function ë…¸ë˜() {
        return "ë…¸ë˜ì œëª©ì€ " + this.title + ":" + this.id;
      }

      window.addEventListener("load", () => {
        const exBox = document.querySelectorAll(".ex");

        const ì¸ê°„ = {
          ì„±ëª…: function () {
            return this.ì„± + " " + this.ëª…;
          },
        };
        const ì‚¬ëŒ1 = {
          ì„±: "ë§ˆ",
          ëª…: "ë™ì„",
        };
        const ì‚¬ëŒ2 = {
          ì„±: "ì´",
          ëª…: "ì œí›ˆ",
        };

        const íšŒì› = {
          ì„±: "ê¹€",
          ëª…: "ì¬ì›",
          ì´ë¦„ë‹¤: function () {
            return this.ì„± + " " + this.ëª…;
          },
          ì‹œê°„ì°¨: function () {
            setTimeout(
              function () {
                exBox[9].innerText = this.ì„± + " " + this.ëª…;
              }.bind(this),
              2000
            );
          },
          í™”ì‚´í‘œ: function () {
            setTimeout(() => {
              exBox[10].innerText = this.ì„± + " " + this.ëª…;
            }, 3000);
          },
        };

        const ê°œì¸1 = {
          ì„±: "ìµœ",
          ëª…: "ìˆ˜ì—°",
        };
        const ê°œì¸2 = {
          ì„±: "ì •",
          ëª…: "ì„±í˜¸",
        };
        const ê°œì¸3 = {
          ì„±: "ì´",
          ëª…: "ë‚˜ì˜",
        };

        ///////////////////////////

        const ëŒ€í‘œë™ë¬¼ = {
          ë°œí‘œ: function (ì§€ì—­, ë¶„ë¥˜) {
            return this.ë‚˜ë¼ + `(${ì§€ì—­})` + " " + this.ì´ë¦„ + `(${ë¶„ë¥˜})`;
          },
        };
        const ë™ë¬¼1 = {
          ë‚˜ë¼: "í˜¸ì£¼",
          ì´ë¦„: "ì½”ì•Œë¼",
        };
        const ë™ë¬¼2 = {
          ë‚˜ë¼: "ì¼ë³¸",
          ì´ë¦„: "ì›ìˆ­ì´",
        };

        const myNum = [2400, 3600, 4200, 5300, 6700];

        //////////////////////////

        // This will return "Mary Doe"
        exBox[0].innerText = ì¸ê°„.ì„±ëª….call(ì‚¬ëŒ1);
        exBox[1].innerText = ì¸ê°„.ì„±ëª….apply(ì‚¬ëŒ2);

        exBox[2].innerText = ëŒ€í‘œë™ë¬¼.ë°œí‘œ.call(ë™ë¬¼1, "ì˜¤ì„¸ì•„ë‹ˆì•„", "ìœ ëŒ€ë¥˜");
        exBox[3].innerText = ëŒ€í‘œë™ë¬¼.ë°œí‘œ.apply(ë™ë¬¼2, ["ì•„ì‹œì•„", "ì˜ì¥ë¥˜"]);

        exBox[4].innerText = í˜ë‚´.call(
          { í˜¸í˜¸: "ì „ìŸ", í•˜í•˜: "í‰í™”" },
          "í†¨ìŠ¤í† ì´"
        );
        exBox[5].innerText = ë…¸ë˜.apply(document.querySelector(".iam"));
        exBox[6].innerText = `ë‚´ê°€ ë°›ì•˜ë˜ ì—°ë´‰ ì¤‘ ìµœëŒ€ê°’ì€ ${Math.max.apply(
          null,
          myNum
        )}ë§Œì›ì´ë‹¤!`;

        exBox[7].innerText = íšŒì›.ì´ë¦„ë‹¤();
        exBox[8].innerText = íšŒì›.ì´ë¦„ë‹¤.bind(ê°œì¸1)();
        íšŒì›.ì‹œê°„ì°¨.bind(ê°œì¸2)();
        íšŒì›.í™”ì‚´í‘œ.bind(ê°œì¸3)();
      });

      /* 
             // 1. ë¡œì»¬ì“° ë°ì´í„° ì½ì–´ì™€ì„œ ë°°ì—´ë¡œ ë³€í™˜
                const localData = 
                JSON.parse(localStorage.getItem("minfo"));
                let maxNum = Math.max.apply(null,localData.map(v=>v.idx));
                console.log("ì…ë ¥!!!",localData,maxNum);

                // 2. ì…ë ¥í•  ë°ì´í„° ê°ì²´í˜•ì‹ìœ¼ë¡œ ë°°ì—´ì— ë„£ê¸°
                // ë°°ì—´.push({ê°ì²´})
                localData.push({
                    idx: maxNum+1,
                    tit: mFn.qs("#tit").value,
                    cont: mFn.qs("#cont").value
                });

            */
    </script>
  </head>
  <body>
    <h1 class="mainTit">JS5-7. í•¨ìˆ˜ ê¸°ë³¸ ë©”ì„œë“œ : call() / apply() / bind()</h1>

    <b class="iam" title="í‚¬ë””ìŠ¤ëŸ½" id="í™ì•¼í™ì•¼"></b>
    <h1>ğŸ¯ call(ê°ì²´) / appply(ê°ì²´) : ê°ì²´ë©”ì„œë“œë¡œ êµ¬í˜„</h1>
    <h1 class="ex"></h1>
    <h1 class="ex"></h1>
    <hr />

    <h1>
      ğŸ¯ call(ê°ì²´,ì¶”ê°€ë³€ìˆ˜) / appply(ê°ì²´,[ì¶”ê°€ë³€ìˆ˜]) : ê°ì²´ë©”ì„œë“œë¡œ êµ¬í˜„
    </h1>
    <h1 class="ex"></h1>
    <h1 class="ex"></h1>
    <hr />

    <h1>ğŸ¯ call(ê°ì²´,ì¶”ê°€ë³€ìˆ˜) / appply(ê°ì²´,[ì¶”ê°€ë³€ìˆ˜]) : ì¼ë°˜í•¨ìˆ˜ë¡œ êµ¬í˜„</h1>
    <h1 class="ex"></h1>
    <h1 class="ex"></h1>
    <hr />

    <h1>ğŸ¯ Math.max.appply(null,ë°°ì—´ë³€ìˆ˜) ì‘ìš©</h1>
    <h1 class="ex"></h1>

    <h1>ğŸ¯ bind() ì‚¬ìš©ë²•</h1>
    <div class="bindWrap">
      <h1 class="ex"></h1>
      <h1 class="ex"></h1>
      <h1 class="ex"></h1>
      <h1 class="ex"></h1>
    </div>
  </body>
</html>
